# TestBridge 프로젝트 폴더 구조

---

## 모노레포 구조

```
testbridge/
├── README.md
├── package.json                    # workspace 루트
├── turbo.json                      # Turborepo 설정
├── .gitignore
├── .env.example                    # 환경변수 템플릿
├── docker-compose.yml              # 로컬 개발 (PostgreSQL + Redis)
│
├── packages/
│   └── shared/                     # 프론트/백 공유 타입
│       ├── package.json
│       └── src/
│           ├── types/
│           │   ├── user.ts         # User 관련 타입/인터페이스
│           │   ├── app.ts          # App 관련
│           │   ├── payment.ts      # Payment 관련
│           │   └── index.ts
│           ├── enums/
│           │   ├── role.ts         # Role, UserStatus 등
│           │   ├── app-status.ts   # AppStatus, TestType 등
│           │   ├── payment.ts      # PaymentType, PaymentStatus 등
│           │   └── index.ts
│           ├── constants/
│           │   ├── plans.ts        # 플랜별 한도, 수수료율
│           │   ├── rewards.ts      # 크레딧 금액, 신뢰도 가중치
│           │   └── index.ts
│           └── index.ts
│
├── apps/
│   ├── server/                     # ── 백엔드 (NestJS) ──
│   │   ├── package.json
│   │   ├── tsconfig.json
│   │   ├── nest-cli.json
│   │   ├── Dockerfile
│   │   ├── .env.example
│   │   │
│   │   ├── prisma/
│   │   │   ├── schema.prisma       # DB 스키마
│   │   │   ├── seed.ts             # 카테고리 + 관리자 시드
│   │   │   └── migrations/         # Prisma 마이그레이션
│   │   │
│   │   ├── src/
│   │   │   ├── main.ts             # 앱 부트스트랩
│   │   │   ├── app.module.ts       # 루트 모듈
│   │   │   │
│   │   │   ├── common/             # ── 공통 ──
│   │   │   │   ├── decorators/
│   │   │   │   │   ├── current-user.decorator.ts    # @CurrentUser()
│   │   │   │   │   └── roles.decorator.ts           # @Roles('DEVELOPER')
│   │   │   │   ├── guards/
│   │   │   │   │   ├── jwt-auth.guard.ts            # JWT 인증 가드
│   │   │   │   │   └── roles.guard.ts               # 역할 체크 가드
│   │   │   │   ├── interceptors/
│   │   │   │   │   ├── transform.interceptor.ts     # { data: ... } 래핑
│   │   │   │   │   └── logging.interceptor.ts       # 요청 로깅
│   │   │   │   ├── filters/
│   │   │   │   │   └── http-exception.filter.ts     # { error: { code, message } }
│   │   │   │   ├── pipes/
│   │   │   │   │   └── validation.pipe.ts           # class-validator
│   │   │   │   ├── dto/
│   │   │   │   │   └── pagination.dto.ts            # page, limit, meta
│   │   │   │   └── utils/
│   │   │   │       ├── crypto.util.ts               # AES-256 암/복호화
│   │   │   │       ├── hash.util.ts                 # SHA-256, bcrypt
│   │   │   │       └── order-id.util.ts             # TB-YYYYMMDD-XXXX
│   │   │   │
│   │   │   ├── prisma/              # Prisma 서비스
│   │   │   │   ├── prisma.module.ts
│   │   │   │   └── prisma.service.ts
│   │   │   │
│   │   │   ├── auth/                # ── 인증 모듈 ──
│   │   │   │   ├── auth.module.ts
│   │   │   │   ├── auth.controller.ts    # POST /auth/google, signup, refresh, logout, withdraw
│   │   │   │   ├── auth.service.ts
│   │   │   │   ├── strategies/
│   │   │   │   │   └── jwt.strategy.ts   # Passport JWT Strategy
│   │   │   │   ├── dto/
│   │   │   │   │   ├── google-login.dto.ts
│   │   │   │   │   ├── kakao-login.dto.ts
│   │   │   │   │   ├── signup.dto.ts
│   │   │   │   │   ├── refresh-token.dto.ts
│   │   │   │   │   └── withdraw.dto.ts
│   │   │   │   └── interfaces/
│   │   │   │       └── jwt-payload.interface.ts
│   │   │   │
│   │   │   ├── profile/             # ── 프로필 모듈 ──
│   │   │   │   ├── profile.module.ts
│   │   │   │   ├── profile.controller.ts  # GET,PATCH /profile/me, role, nickname check
│   │   │   │   ├── profile.service.ts
│   │   │   │   └── dto/
│   │   │   │       ├── update-profile.dto.ts
│   │   │   │       └── switch-role.dto.ts
│   │   │   │
│   │   │   ├── notifications/       # ── 알림 모듈 ──
│   │   │   │   ├── notifications.module.ts
│   │   │   │   ├── notifications.controller.ts
│   │   │   │   ├── notifications.service.ts
│   │   │   │   └── dto/
│   │   │   │
│   │   │   ├── dev/                  # ── 개발자 모듈 ──
│   │   │   │   ├── dev.module.ts
│   │   │   │   ├── dashboard/
│   │   │   │   │   ├── dashboard.controller.ts   # GET /dev/dashboard
│   │   │   │   │   └── dashboard.service.ts
│   │   │   │   ├── apps/
│   │   │   │   │   ├── apps.controller.ts        # CRUD /dev/apps
│   │   │   │   │   ├── apps.service.ts
│   │   │   │   │   └── dto/
│   │   │   │   │       ├── create-app.dto.ts
│   │   │   │   │       ├── update-app.dto.ts
│   │   │   │   │       └── cost-estimate.dto.ts
│   │   │   │   ├── applicants/
│   │   │   │   │   ├── applicants.controller.ts  # GET,POST /dev/apps/:id/applicants
│   │   │   │   │   └── applicants.service.ts
│   │   │   │   ├── participants/
│   │   │   │   │   ├── participants.controller.ts
│   │   │   │   │   └── participants.service.ts
│   │   │   │   └── feedbacks/
│   │   │   │       ├── feedbacks.controller.ts   # GET /dev/apps/:id/feedbacks
│   │   │   │       └── feedbacks.service.ts
│   │   │   │
│   │   │   ├── tester/               # ── 테스터 모듈 ──
│   │   │   │   ├── tester.module.ts
│   │   │   │   ├── browse/
│   │   │   │   │   ├── browse.controller.ts      # GET /tester/apps
│   │   │   │   │   └── browse.service.ts
│   │   │   │   ├── my-tests/
│   │   │   │   │   ├── my-tests.controller.ts    # GET /tester/my-tests
│   │   │   │   │   └── my-tests.service.ts
│   │   │   │   ├── feedback/
│   │   │   │   │   ├── feedback.controller.ts    # POST /tester/apps/:id/feedback
│   │   │   │   │   ├── feedback.service.ts
│   │   │   │   │   └── dto/
│   │   │   │   │       └── create-feedback.dto.ts
│   │   │   │   └── apply/
│   │   │   │       ├── apply.controller.ts       # POST /tester/apps/:id/apply
│   │   │   │       └── apply.service.ts
│   │   │   │
│   │   │   ├── rewards/              # ── 리워드 모듈 ──
│   │   │   │   ├── rewards.module.ts
│   │   │   │   ├── rewards.controller.ts         # GET balance, history
│   │   │   │   ├── rewards.service.ts
│   │   │   │   ├── withdrawal/
│   │   │   │   │   ├── withdrawal.controller.ts  # POST withdrawals
│   │   │   │   │   └── withdrawal.service.ts
│   │   │   │   └── gifticon/
│   │   │   │       ├── gifticon.controller.ts
│   │   │   │       └── gifticon.service.ts
│   │   │   │
│   │   │   ├── billing/              # ── 결제 모듈 ──
│   │   │   │   ├── billing.module.ts
│   │   │   │   ├── billing.controller.ts         # /billing/subscribe, payments
│   │   │   │   ├── billing.service.ts
│   │   │   │   ├── toss/
│   │   │   │   │   ├── toss.service.ts           # 토스페이먼츠 API 래퍼
│   │   │   │   │   └── toss.interface.ts
│   │   │   │   └── dto/
│   │   │   │       ├── subscribe.dto.ts
│   │   │   │       ├── one-time-payment.dto.ts
│   │   │   │       └── confirm-payment.dto.ts
│   │   │   │
│   │   │   ├── support/              # ── 고객지원 모듈 ──
│   │   │   │   ├── support.module.ts
│   │   │   │   ├── support.controller.ts         # /support/faqs, tickets, reports
│   │   │   │   ├── support.service.ts
│   │   │   │   └── dto/
│   │   │   │       ├── create-ticket.dto.ts
│   │   │   │       └── create-report.dto.ts
│   │   │   │
│   │   │   ├── admin/                # ── 관리자 모듈 ──
│   │   │   │   ├── admin.module.ts
│   │   │   │   ├── dashboard/
│   │   │   │   │   └── admin-dashboard.controller.ts
│   │   │   │   ├── users/
│   │   │   │   │   ├── admin-users.controller.ts
│   │   │   │   │   └── admin-users.service.ts
│   │   │   │   ├── apps/
│   │   │   │   │   ├── admin-apps.controller.ts
│   │   │   │   │   └── admin-apps.service.ts
│   │   │   │   ├── settlements/
│   │   │   │   │   ├── settlements.controller.ts
│   │   │   │   │   └── settlements.service.ts
│   │   │   │   └── cs/
│   │   │   │       ├── admin-cs.controller.ts
│   │   │   │       └── admin-cs.service.ts
│   │   │   │
│   │   │   ├── scheduler/            # ── 스케줄러 ──
│   │   │   │   ├── scheduler.module.ts
│   │   │   │   ├── test-completion.scheduler.ts   # 테스트 자동 종료
│   │   │   │   ├── inactive-warning.scheduler.ts  # 미실행 경고
│   │   │   │   ├── subscription-billing.scheduler.ts # 구독 자동결제
│   │   │   │   ├── withdrawal-batch.scheduler.ts  # 출금 배치
│   │   │   │   ├── cleanup.scheduler.ts           # 알림삭제, 탈퇴삭제
│   │   │   │   └── monthly-reset.scheduler.ts     # 앱등록한도 리셋
│   │   │   │
│   │   │   ├── email/                # ── 이메일 ──
│   │   │   │   ├── email.module.ts
│   │   │   │   ├── email.service.ts               # AWS SES 래퍼
│   │   │   │   ├── email.processor.ts             # SQS 메시지 처리
│   │   │   │   └── templates/
│   │   │   │       ├── tester-selected.hbs
│   │   │   │       ├── test-started.hbs
│   │   │   │       ├── reward-paid.hbs
│   │   │   │       └── base.hbs                   # 공통 레이아웃
│   │   │   │
│   │   │   └── upload/               # ── 파일 업로드 ──
│   │   │       ├── upload.module.ts
│   │   │       ├── upload.controller.ts
│   │   │       └── upload.service.ts              # S3 Pre-signed URL
│   │   │
│   │   └── test/
│   │       ├── app.e2e-spec.ts
│   │       └── jest-e2e.json
│   │
│   └── web/                          # ── 프론트엔드 (Next.js) ──
│       ├── package.json
│       ├── tsconfig.json
│       ├── next.config.js
│       ├── tailwind.config.js
│       ├── postcss.config.js
│       ├── .env.example
│       │
│       ├── public/
│       │   ├── logo.svg
│       │   └── og-image.png
│       │
│       └── src/
│           ├── app/                   # ── App Router ──
│           │   ├── layout.tsx                     # 루트 레이아웃
│           │   ├── page.tsx                       # S-01 랜딩
│           │   ├── globals.css
│           │   │
│           │   ├── (auth)/                        # 인증 그룹
│           │   │   ├── login/page.tsx             # S-03
│           │   │   ├── signup/page.tsx            # S-02
│           │   │   └── callback/[provider]/page.tsx # OAuth 콜백
│           │   │
│           │   ├── (main)/                        # 로그인 사용자 그룹
│           │   │   ├── layout.tsx                 # Nav + 사이드바
│           │   │   │
│           │   │   ├── mypage/page.tsx            # S-04
│           │   │   │
│           │   │   ├── dev/                       # 개발자
│           │   │   │   ├── page.tsx               # D-01 대시보드
│           │   │   │   ├── apps/
│           │   │   │   │   ├── page.tsx           # D-03 내 앱 목록
│           │   │   │   │   ├── new/page.tsx       # D-02 앱 등록
│           │   │   │   │   └── [id]/
│           │   │   │   │       ├── page.tsx       # D-04 앱 상세
│           │   │   │   │       └── edit/page.tsx  # 앱 수정
│           │   │   │   └── billing/page.tsx       # D-05 결제
│           │   │   │
│           │   │   ├── tester/                    # 테스터
│           │   │   │   ├── page.tsx               # T-01 앱 탐색
│           │   │   │   ├── apps/[id]/page.tsx     # T-02 앱 상세
│           │   │   │   ├── my-tests/page.tsx      # T-03 내 테스트
│           │   │   │   ├── feedback/[appId]/page.tsx # T-04 피드백
│           │   │   │   └── rewards/page.tsx       # T-05 리워드
│           │   │   │
│           │   │   └── support/page.tsx           # CS-01 고객센터
│           │   │
│           │   ├── admin/                         # 관리자 (별도 레이아웃)
│           │   │   ├── layout.tsx
│           │   │   ├── page.tsx                   # A-01 대시보드
│           │   │   ├── users/page.tsx             # A-02
│           │   │   ├── apps/page.tsx              # A-03
│           │   │   ├── settlements/page.tsx       # A-04
│           │   │   └── cs/page.tsx                # A-05
│           │   │
│           │   └── not-found.tsx                  # 404
│           │
│           ├── components/            # ── 컴포넌트 ──
│           │   ├── ui/                            # shadcn/ui 기본
│           │   │   ├── button.tsx
│           │   │   ├── input.tsx
│           │   │   ├── dialog.tsx
│           │   │   ├── card.tsx
│           │   │   ├── badge.tsx
│           │   │   ├── toast.tsx
│           │   │   ├── tabs.tsx
│           │   │   ├── table.tsx
│           │   │   ├── select.tsx
│           │   │   ├── avatar.tsx
│           │   │   └── skeleton.tsx
│           │   │
│           │   ├── layout/                        # 레이아웃
│           │   │   ├── navbar.tsx                  # 상단 네비게이션
│           │   │   ├── sidebar.tsx                 # 관리자 사이드바
│           │   │   ├── role-toggle.tsx             # 역할 전환 토글
│           │   │   └── notification-bell.tsx       # 알림 드롭다운
│           │   │
│           │   ├── common/                        # 공통 비즈니스
│           │   │   ├── app-card.tsx                # 앱 카드 (탐색/관리)
│           │   │   ├── status-badge.tsx            # 상태 배지
│           │   │   ├── trust-badge.tsx             # 신뢰도 배지
│           │   │   ├── star-rating.tsx             # 별점 입력/표시
│           │   │   ├── file-upload.tsx             # 파일 업로드
│           │   │   ├── image-gallery.tsx           # 스크린샷 갤러리
│           │   │   ├── pagination.tsx              # 페이지네이션
│           │   │   ├── empty-state.tsx             # 빈 상태
│           │   │   ├── confirm-dialog.tsx          # 확인 다이얼로그
│           │   │   └── loading-skeleton.tsx        # 로딩 스켈레톤
│           │   │
│           │   ├── dev/                           # 개발자 전용
│           │   │   ├── app-register-wizard.tsx     # 4단계 위자드
│           │   │   ├── applicant-list.tsx          # 지원자 목록
│           │   │   ├── participant-monitor.tsx     # 참여자 모니터링
│           │   │   ├── feedback-list.tsx           # 피드백 목록
│           │   │   ├── production-checklist.tsx    # 프로덕션 체크리스트
│           │   │   └── cost-calculator.tsx         # 비용 계산기
│           │   │
│           │   ├── tester/                        # 테스터 전용
│           │   │   ├── app-browse-filter.tsx       # 필터/정렬
│           │   │   ├── apply-modal.tsx             # 지원 모달
│           │   │   ├── test-card.tsx               # 진행 중 카드
│           │   │   ├── feedback-form.tsx           # 피드백 작성 폼
│           │   │   └── reward-tab.tsx              # 리워드 탭
│           │   │
│           │   └── admin/                         # 관리자 전용
│           │       ├── metrics-card.tsx
│           │       ├── user-detail-panel.tsx
│           │       ├── withdrawal-review.tsx
│           │       └── ticket-reply.tsx
│           │
│           ├── hooks/                 # ── 커스텀 훅 ──
│           │   ├── use-auth.ts                    # 인증 상태 관리
│           │   ├── use-api.ts                     # API 호출 래퍼 (SWR/React Query)
│           │   ├── use-notifications.ts           # 알림 polling/SSE
│           │   ├── use-role-guard.ts              # 역할 체크
│           │   └── use-toast.ts                   # 토스트 메시지
│           │
│           ├── lib/                   # ── 유틸리티 ──
│           │   ├── api-client.ts                  # axios 인스턴스 + 인터셉터
│           │   ├── auth.ts                        # 토큰 저장/갱신
│           │   ├── constants.ts                   # 프론트 상수
│           │   └── utils.ts                       # cn(), formatDate() 등
│           │
│           ├── stores/                # ── 상태 관리 (Zustand) ──
│           │   ├── auth-store.ts                  # 인증 상태
│           │   ├── notification-store.ts           # 알림 상태
│           │   └── ui-store.ts                    # UI 상태 (모달, 사이드바)
│           │
│           └── types/                 # ── 프론트 전용 타입 ──
│               ├── api.ts                         # API 응답 타입
│               └── form.ts                        # 폼 타입
```

---

## 주요 파일 수

| 분류 | 파일 수 (예상) |
|------|-------------|
| 백엔드 Controller | 15개 |
| 백엔드 Service | 18개 |
| 백엔드 DTO | ~25개 |
| 프론트 Page | 18개 |
| 프론트 Component | ~35개 |
| 프론트 Hook | 5개 |
| 공유 타입 | ~10개 |
| **합계** | **~130개** |
