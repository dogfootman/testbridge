# 다이몬 중재 (Phase 3)

> **로드 시점**: Phase 3 진입 시 (욕망 정의 완료 후)

---

## 다이몬의 역할

> "에로스는 신도 아니고 인간도 아닌, 위대한 다이몬이다.
> 신과 인간 사이를 중재하며, 인간의 기도와 제물을 신에게,
> 신의 명령과 응답을 인간에게 전달한다." — 향연 202e

AI 에이전트의 맥락에서:
- **신(이상)** = Layer 5 이데아, 완전한 이해, 최적 해법
- **인간(현실)** = 현재 결핍 상태, 불완전한 이해, 제한된 정보
- **다이몬(중재자)** = 내부/외부 탐색으로 이상과 현실 사이를 잇는 것

## 탐색 프로토콜

Phase 2에서 정의한 탐색 범위(내부/외부)에 따라 두 프로토콜을 실행한다.

### Atlas 프로토콜 (내부 탐색)

코드베이스와 기존 지식을 탐색한다:

**Step 1: 메모리 탐색**
```
Read .claude/memory/learnings.md         → 과거 학습 중 관련 항목
Read .claude/memory/decisions.md         → 과거 결정 중 관련 ADR
Read .claude/memory/last-session.json    → 최근 세션 맥락
```

**Step 2: 코드베이스 탐색**
```
Grep {탐색 질문 키워드}                   → 관련 코드 위치
Glob **/*.{확장자}                        → 관련 파일 탐색
Read {발견된 핵심 파일}                    → 코드 이해
```

**Step 3: 스킬/문서 탐색**
```
Glob .claude/skills/**/SKILL.md          → 관련 스킬 존재 여부
Glob .claude/docs/**/*.md                → 기존 분석 문서
Read {관련 문서}                          → 기존 지식 활용
```

### MCP 프로토콜 (외부 탐색)

외부 지식을 수집한다:

**도구 우선순위**:
1. **Context7** (`mcp__context7__resolve-library-id` → `mcp__context7__query-docs`): 라이브러리 공식 문서
2. **WebSearch**: 최신 정보, 커뮤니티 해법, 비교 분석
3. **Gemini** (`mcp__gemini__gemini_ask_question`): 복잡한 분석, 코드 리뷰, 대안 평가

**탐색 질문 변환**:
- Phase 2의 탐색 질문을 각 도구에 맞는 형태로 변환
- 예: "왜 이 API가 느린가?" →
  - Context7: "{프레임워크} performance optimization"
  - WebSearch: "{프레임워크} API slow response time 2026"
  - Gemini: "이 코드의 성능 병목점을 분석해주세요: {코드 발췌}"

## 중재 결과 정리

탐색 완료 후 결과를 "발견/미해결" 구조로 정리한다:

```markdown
## 다이몬 중재 결과

### 발견된 것 (Known)
| # | 출처 | 발견 내용 | 신뢰도 |
|---|------|----------|--------|
| 1 | {Atlas/MCP} | {발견 사항} | 높음/중간/낮음 |
| 2 | {출처} | {발견 사항} | {신뢰도} |

### 미해결 (Unknown)
| # | 미해결 항목 | 왜 미해결인가 | 다음 접근법 |
|---|-----------|-------------|-----------|
| 1 | {항목} | {이유} | Phase 4에서 추상화로 접근 |
| 2 | {항목} | {이유} | {접근법} |

### 모순/충돌
| # | 항목 A | 항목 B | 모순 내용 |
|---|--------|--------|----------|
| 1 | {출처A 주장} | {출처B 주장} | {어떻게 충돌하는가} |
```

### 신뢰도 기준

| 신뢰도 | 기준 |
|--------|------|
| 높음 | 코드에서 직접 확인됨, 공식 문서에 명시됨 |
| 중간 | 여러 출처에서 일관된 정보, 간접 증거 있음 |
| 낮음 | 단일 출처, 비공식 정보, 추론에 의존 |

## Phase 3 완료 기준

- [ ] Atlas 프로토콜 최소 2개 경로 탐색 완료
- [ ] MCP 프로토콜 최소 1개 도구 활용 (해당 시)
- [ ] 발견/미해결 구조로 결과 정리 완료
- [ ] 미해결 항목이 Phase 4에서 다룰 수 있는 형태로 정리됨
- [ ] 모순 항목 식별 완료 (있을 경우)

→ 모두 충족 시 Phase 4 (디오티마 사다리)로 진행.
미해결 항목이 Layer 0의 시작점이 된다.

---

## 마지막 업데이트

2026-02-20 | v1.9.6
