# Use Cases (사용자 시나리오)

**프로젝트명**: TestBridge
**버전**: v1.0
**작성일**: 2026-02-28

---

## 목차

1. [개발자 플로우](#1-개발자-플로우)
2. [테스터 플로우](#2-테스터-플로우)
3. [상호 테스트 플로우](#3-상호-테스트-플로우)
4. [관리자 플로우](#4-관리자-플로우)

---

## 1. 개발자 플로우

### UC-DEV-01: 회원가입 및 앱 등록

**액터**: 개발자 (신규 사용자)
**전제조건**: Google 계정 보유
**목표**: 앱을 등록하고 테스터 모집 시작

#### 시나리오

```
1. 사용자가 TestBridge 랜딩 페이지에 접속
   → "개발자로 시작" 버튼 클릭

2. Google OAuth 로그인 팝업
   → Google 계정으로 인증

3. 역할 선택 화면
   → "개발자" 선택 (또는 "둘 다")

4. 약관 동의
   → 이용약관, 개인정보처리방침 체크 후 "동의" 버튼

5. 프로필 설정
   → 닉네임 입력, 프로필 이미지 업로드 (선택)

6. 개발자 대시보드 (D-01) 진입
   → "새 앱 등록" 버튼 클릭

7. 앱 등록 (D-02)

   **Step 1: 기본 정보**
   - 앱 이름: "MyAwesomeApp"
   - 패키지명: "com.example.myawesomeapp"
   - 카테고리: "유틸리티"
   - 앱 설명: "할 일 관리 앱..."
   - 앱 아이콘 업로드: icon.png
   - 스크린샷 업로드: screen1.png, screen2.png

   **Step 2: 테스트 설정**
   - 테스트 유형: "유료 리워드" 선택
   - 필요 테스터 수: 20명
   - 테스트 기간: 14일 (고정)
   - Google Play 테스트 링크: "https://play.google.com/apps/testing/..."

   **Step 3: 리워드 설정**
   - 리워드 유형: "피드백 포함" 선택
   - 1인당 리워드 금액: 3,000원
   - 총 예상 비용: 66,000원 (20명 × 3,000원 + 수수료 10%)
   - 결제 진행: 토스페이먼츠로 결제

   **Step 4: 피드백 설정**
   - 피드백 필수: 체크
   - 평가 항목: UI/UX, 성능, 기능 완성도, 안정성 체크
   - 테스트 가이드: "앱 실행 후 할 일 추가 기능을 테스트해주세요..."

8. 등록 완료
   → 관리자 승인 대기 상태 (PENDING_APPROVAL)
   → 이메일 알림: "앱 등록이 완료되었습니다. 검토 중..."

9. 관리자 승인
   → 상태 변경: RECRUITING
   → 이메일 알림: "앱이 승인되었습니다. 테스터 모집이 시작되었습니다."

10. 내 앱 목록 (D-03)에서 진행 상황 확인
```

**후행조건**: 앱이 모집 중 상태로 전환, 테스터들이 지원 가능

---

### UC-DEV-02: 지원자 승인 및 테스트 시작

**액터**: 개발자
**전제조건**: 앱이 RECRUITING 상태, 지원자가 있음
**목표**: 테스터를 선정하고 14일 테스트 시작

#### 시나리오

```
1. 알림 수신
   → "MyAwesomeApp에 새로운 지원자 5명이 있습니다."

2. 내 앱 목록 (D-03) 진입
   → "MyAwesomeApp" 클릭

3. 앱 상세 (D-04) → 지원자 관리 탭
   → 지원자 리스트 조회

   지원자 예시:
   - 닉네임: tester1 / 신뢰도: 골드(85점) / 테스트 완료: 12건 / 기기: Galaxy S23
   - 닉네임: tester2 / 신뢰도: 실버(62점) / 테스트 완료: 5건 / 기기: Pixel 7
   - ...

4. 지원자 승인
   → tester1 ~ tester20 "승인" 버튼 클릭 (20명 선정)
   → tester21 ~ tester25 "대기열" 상태 (여유 인원)

5. 승인 완료 시
   → 상태 변경: IN_TESTING
   → testStartDate: 2026-02-28 00:00:00
   → testEndDate: 2026-03-14 23:59:59
   → 테스터들에게 이메일 알림: "선정되었습니다! Google Play 링크: ..."

6. 현황 탭에서 모니터링
   → D-Day: D+1
   → 옵트인 유지: 20/20명
   → 프로그레스 바: 7% (1/14일)
```

**후행조건**: 테스트 시작, 14일 카운트다운 시작

---

### UC-DEV-03: 테스트 진행 중 이탈 발생

**액터**: 개발자
**전제조건**: 테스트 진행 중 (IN_TESTING)
**목표**: 이탈 테스터 확인 및 대기열에서 교체

#### 시나리오

```
1. D+5 (2026-03-05)
   → tester3이 앱 삭제 → 옵트아웃

2. 시스템 자동 감지
   → participation status: ACTIVE → DROPPED
   → trust_score: 85 → 75 (신뢰도 -10점)

3. 개발자에게 알림
   → "경고: tester3님이 이탈했습니다. 현재 19/20명"

4. 자동 교체 (D+10 이전이므로 대기열 활용)
   → tester21 (대기열 1순위) 자동 승인
   → tester21에게 이메일 알림: "선정되었습니다!"
   → 옵트인 유지: 20/20명 복구

5. 현황 탭 업데이트
   → 참여자 탭에서 tester3 상태: "이탈 (D+5)"
   → tester21 상태: "참여 중 (D+5~)"
```

**후행조건**: 테스터 교체 완료, 20명 유지

---

### UC-DEV-04: 피드백 수집 및 프로덕션 등록

**액터**: 개발자
**전제조건**: D+14 완료, 테스트 상태 COMPLETED
**목표**: 피드백 확인 후 프로덕션 등록 완료

#### 시나리오

```
1. D+14 (2026-03-14 23:59:59)
   → 시스템이 자동으로 테스트 완료 처리
   → 앱 상태: COMPLETED
   → 개발자 알림: "MyAwesomeApp 테스트가 완료되었습니다!"

2. 피드백 탭 조회
   → 총 피드백 수: 18건 (20명 중 18명 작성)
   → 평균 별점: 4.2 / 5.0
   → 항목별 평가:
     - UI/UX: 4.5
     - 성능: 4.0
     - 기능 완성도: 4.3
     - 안정성: 3.8
   → 버그 리포트 3건:
     - "할 일 삭제 시 가끔 크래시 발생"
     - "다크모드에서 텍스트 색상이 흰색으로 안 보임"
     - "알림 설정 저장 안 됨"

3. 버그 수정 및 재배포 (외부 작업)

4. Google Play Console에서 프로덕션 등록 신청
   → 20명 옵트인 요건 충족
   → Google 질문 답변 (가이드 탭 참조)

5. 프로덕션 가이드 탭
   → "프로덕션 등록 완료" 버튼 클릭
   → 확인 팝업: "리워드가 지급됩니다. 정말 완료하시겠습니까?"

6. 시스템 처리
   → 앱 상태: PRODUCTION
   → 리워드 자동 지급:
     - 조건 충족 테스터 (18명): 각 3,000원 지급
     - 피드백 미제출 (2명): 보류 또는 미지급
   → 테스터들에게 알림: "리워드 3,000원이 지급되었습니다!"

7. 개발자 완료
   → 대시보드에서 "프로덕션 등록 완료" 상태 확인
```

**후행조건**: 프로덕션 등록 완료, 리워드 지급 완료

---

## 2. 테스터 플로우

### UC-TST-01: 회원가입 및 앱 탐색

**액터**: 테스터 (신규 사용자)
**전제조건**: Google 계정 보유
**목표**: 앱을 찾고 테스트 지원

#### 시나리오

```
1. 사용자가 TestBridge 랜딩 페이지에 접속
   → "테스터로 시작" 버튼 클릭

2. Google OAuth 로그인

3. 역할 선택
   → "테스터" 선택

4. 약관 동의

5. 프로필 설정

6. 테스터 홈 (T-01) 진입
   → 모집 중인 앱 목록 표시

   앱 카드 예시:
   - MyAwesomeApp
   - 카테고리: 유틸리티
   - 리워드: 3,000원 (피드백 포함)
   - 남은 자리: 15/20

7. 필터 적용
   → 카테고리: "유틸리티"
   → 리워드 금액: 3,000원 이상
   → 정렬: "리워드 높은순"

8. 앱 카드 클릭
   → 앱 상세 (T-02) 진입
```

**후행조건**: 앱 상세 화면 진입

---

### UC-TST-02: 테스트 지원 및 선정

**액터**: 테스터
**전제조건**: 앱 상세 화면 (T-02)
**목표**: 테스트에 지원하고 선정 대기

#### 시나리오

```
1. 앱 상세 화면 (T-02)
   → 앱 설명, 스크린샷, 테스트 정보 확인
   → 테스트 가이드 읽기: "할 일 추가 기능을 테스트해주세요..."

2. "테스트 지원하기" 버튼 클릭

3. 지원 팝업
   → 보유 기기 선택: "Galaxy S23"
   → 간단 자기소개 (선택): "앱 개발에 관심이 많습니다..."
   → "지원하기" 버튼

4. 시스템 검증
   → 본인 앱 아님 확인
   → 중복 지원 아님 확인
   → 동시 테스트 < 5개 확인

5. 지원 완료
   → Application 생성 (status: PENDING)
   → 내 테스트 현황 (T-03) → 대기 탭에 추가
   → 알림: "MyAwesomeApp에 지원했습니다. 개발자의 승인을 기다려주세요."

6. 개발자 승인 (외부 액션)

7. 선정 알림
   → 이메일: "축하합니다! MyAwesomeApp 테스터로 선정되었습니다."
   → Google Play 링크: "https://play.google.com/apps/testing/..."
   → 테스트 시작일: 2026-02-28
   → 테스트 종료일: 2026-03-14

8. 내 테스트 현황 (T-03) 업데이트
   → 대기 탭 → 진행 중 탭으로 이동
   → D-Day: D+1
```

**후행조건**: 테스터 선정 완료, 테스트 참여

---

### UC-TST-03: 14일 테스트 참여

**액터**: 테스터
**전제조건**: 테스터로 선정됨
**목표**: 14일간 앱 실행 유지, 피드백 작성

#### 시나리오

```
1. D+1 (2026-02-28)
   → "Google Play에서 열기" 버튼 클릭
   → MyAwesomeApp 설치 및 옵트인

2. 앱 실행 및 테스트
   → 할 일 추가, 삭제, 수정 기능 테스트
   → 시스템 기록: lastAppRunAt = 2026-02-28 10:00

3. D+2 ~ D+14 반복
   → 주기적으로 앱 실행 (최소 2일에 1회 권장)

4. D+8 (2026-03-08)
   → 버그 발견: "할 일 삭제 시 가끔 크래시 발생"
   → 피드백 작성 (T-04) 진입

   **피드백 양식**:
   - 전체 만족도: 4점
   - 항목별 평가:
     - UI/UX: 5점
     - 성능: 4점
     - 기능 완성도: 4점
     - 안정성: 3점
   - 텍스트 피드백: "전반적으로 좋은데 삭제 시 크래시가 발생합니다."
   - 버그 리포트:
     - 제목: "할 일 삭제 시 크래시"
     - 재현 방법: "할 일 5개 추가 후 3번째 삭제 시 크래시"
     - 스크린샷: crash.png

5. 피드백 제출
   → Feedback, FeedbackRating, BugReport 생성
   → 개발자에게 알림: "tester1님이 피드백을 남겼습니다."

6. D+14 (2026-03-14 23:59:59)
   → 테스트 완료
   → Participation status: COMPLETED
```

**후행조건**: 테스트 완료, 리워드 지급 대기

---

### UC-TST-04: 리워드 수령 및 출금

**액터**: 테스터
**전제조건**: 테스트 완료, 리워드 지급됨
**목표**: 포인트 확인 및 출금

#### 시나리오

```
1. 리워드 지급 알림
   → "MyAwesomeApp 테스트 완료! 리워드 3,000원이 지급되었습니다."

2. 리워드 / 포인트 관리 (T-05) 진입
   → 현재 포인트 잔액: 15,000원 (기존 12,000 + 3,000)
   → 적립 내역:
     - 2026-03-15: MyAwesomeApp 완료 +3,000원
     - 2026-03-01: AnotherApp 완료 +5,000원
     - ...

3. 출금 신청
   → "출금" 탭 클릭
   → 출금 방식: "계좌이체" 선택
   → 은행: "신한은행"
   → 계좌번호: "110-123-456789"
   → 예금주: "홍길동"
   → 출금 금액: 15,000원
   → 수수료: 0원 (또는 500원)
   → 실수령액: 15,000원
   → "출금 신청" 버튼

4. 시스템 처리
   → Users.pointBalance: 15,000 → 0
   → Withdrawal 생성 (status: REQUESTED)
   → 이상 감지: flagged = false (정상)

5. 관리자 승인 (다음 날 14:00 배치)
   → Withdrawal status: PROCESSING → COMPLETED
   → 계좌 입금 처리

6. 입금 알림
   → "출금이 완료되었습니다. 15,000원이 입금되었습니다."

7. 출금 내역 확인
   → 출금 날짜: 2026-03-16
   → 금액: 15,000원
   → 상태: 완료
```

**후행조건**: 출금 완료, 포인트 잔액 0원

---

## 3. 상호 테스트 플로우

### UC-MUT-01: 크레딧 적립 및 사용

**액터**: 개발자 A (겸 테스터)
**전제조건**: 역할 = BOTH
**목표**: 다른 앱 테스트 후 크레딧으로 자신의 앱 등록

#### 시나리오

```
1. 개발자 A가 개발자 B의 앱 "GameApp" 테스트 지원
   → 14일 테스트 완료
   → GameApp의 testType = CREDIT_EXCHANGE

2. 리워드 지급
   → 크레딧 적립: +20 크레딧 (테스트 완료)
   → 피드백 작성 시: +10 크레딧 (피드백 보너스)
   → Users.creditBalance: 0 → 30

3. 크레딧 내역 확인 (마이페이지)
   → 크레딧 잔액: 30
   → 적립 내역:
     - 2026-03-15: GameApp 테스트 완료 +20
     - 2026-03-15: GameApp 피드백 작성 +10

4. 개발자 A가 자신의 앱 등록
   → 앱 등록 (D-02) 진입
   → Step 2: 테스트 유형 "상호 테스트(크레딧)" 선택
   → 크레딧 차감: -50 크레딧
   → Users.creditBalance: 30 → 부족 (20 크레딧 부족)

5. 추가 크레딧 적립 필요
   → 개발자 C의 앱 "UtilityApp" 테스트 지원
   → 테스트 완료 → +20 크레딧
   → Users.creditBalance: 30 → 50

6. 재시도
   → 앱 등록 Step 2에서 "상호 테스트(크레딧)" 선택
   → 크레딧 차감: -50 크레딧
   → Users.creditBalance: 50 → 0
   → CreditHistory 생성 (type: USED_REGISTER, amount: -50)

7. 앱 등록 완료
   → 무료로 테스터 모집 시작
```

**후행조건**: 크레딧으로 앱 등록 완료

---

## 4. 관리자 플로우

### UC-ADM-01: 앱 승인/반려

**액터**: 관리자
**전제조건**: 신규 앱 등록됨 (status: PENDING_APPROVAL)
**목표**: 앱 검토 후 승인 또는 반려

#### 시나리오

```
1. 관리자 로그인
   → 관리자 대시보드 (A-01) 진입
   → 긴급 알림: "앱 승인 대기 3건"

2. 앱 관리 탭 (A-03) 클릭
   → 승인 대기 목록 조회

   예시:
   - MyAwesomeApp (개발자: dev1) / 유틸리티 / 3,000원
   - GameApp (개발자: dev2) / 게임 / 5,000원
   - IllegalApp (개발자: dev3) / 도박 / 10,000원

3. "MyAwesomeApp" 상세 조회
   → 앱 정보, 스크린샷, 리워드 조건 확인
   → 검토: 정상 앱

4. "승인" 버튼 클릭
   → App status: PENDING_APPROVAL → RECRUITING
   → approvedAt: 2026-02-27 10:00
   → 개발자에게 알림: "앱이 승인되었습니다."

5. "IllegalApp" 상세 조회
   → 앱 설명: "도박 게임..."
   → 검토: 부적절한 앱

6. "반려" 버튼 클릭
   → 반려 사유 입력: "도박 콘텐츠는 플랫폼 정책 위반"
   → App status: REJECTED
   → rejectedReason: "도박 콘텐츠는..."
   → 개발자에게 알림: "앱이 반려되었습니다. 사유: ..."
```

**후행조건**: 앱 승인 또는 반려 완료

---

### UC-ADM-02: 출금 요청 처리

**액터**: 관리자
**전제조건**: 출금 요청이 있음 (status: REQUESTED)
**목표**: 출금 요청 검토 후 승인/보류/거절

#### 시나리오

```
1. 정산 관리 탭 (A-04) 클릭
   → 출금 요청 리스트 조회

   예시:
   - tester1 / 15,000원 / 신한 ****6789 / 정상
   - tester2 / 50,000원 / 국민 ****1234 / 🚩 이상감지: 가입 1주일, 대량 출금

2. "tester1" 승인
   → "승인" 버튼 클릭
   → Withdrawal status: PROCESSING
   → approvedBy: admin1
   → approvedAt: 2026-03-16 10:00

3. 배치 실행 (14:00)
   → 은행 API 호출
   → 이체 성공
   → Withdrawal status: COMPLETED
   → tester1 알림: "출금이 완료되었습니다."

4. "tester2" 검토
   → 프로필 확인: 가입일 2026-03-10 (6일 전)
   → 출금 금액: 50,000원 (고액)
   → 테스트 이력: 1건만 완료
   → 의심 케이스

5. "보류" 버튼 클릭
   → 보류 사유: "가입 초기 대량 출금, 추가 확인 필요"
   → Withdrawal status: ON_HOLD
   → tester2 알림: "출금이 보류되었습니다. 사유: ..."
```

**후행조건**: 출금 처리 완료 또는 보류

---

## 5. 엣지 케이스

### UC-EDGE-01: 테스트 중 대량 이탈 (대기열 부족)

**시나리오**:
- D+12에 10명 이탈 (20명 → 10명)
- 대기열: 3명만 있음
- 교체 후: 13명 (14명 미달)
- **결과**: 프로덕션 요건 미충족, 개발자 실패

**대응**:
- 개발자에게 긴급 알림: "테스터 부족 (13/14), 추가 모집 필요"
- 긴급 부스트 옵션 제공
- 테스트 기간 연장 옵션 (2차 기능)

---

### UC-EDGE-02: 리워드 미지급 (피드백 미제출)

**시나리오**:
- feedbackRequired = true
- 테스터가 14일 완료했지만 피드백 미제출
- **결과**: rewardStatus = PENDING_FEEDBACK, 리워드 보류

**대응**:
- 테스터에게 알림: "피드백 제출 시 리워드 지급됩니다."
- 7일 내 제출 시 지급, 초과 시 미지급 (skipReason = "피드백 기한 초과")

---

## 부록: 프로세스 시퀀스 다이어그램

### 전체 End-to-End 플로우

```
[개발자]                   [플랫폼]                      [테스터]
   │                         │                            │
   ├─ 1. 회원가입 ─────────→│◄──────── 1. 회원가입 ────┤
   │                         │                            │
   ├─ 2. 앱 등록 ──────────→│                            │
   │  (앱 정보, 리워드 설정) │                            │
   │                         │                            │
   │                         │──── 3. 앱 목록 노출 ─────→│
   │                         │                            │
   │                         │◄─── 4. 테스트 지원 ──────┤
   │                         │                            │
   ├─ 5. 지원자 승인 ───────→│──── 6. 선정 알림 ───────→│
   │                         │                            │
   │                         │◄─── 7. 앱 설치 ──────────┤
   │                         │                            │
   ├─ 8. 테스트 현황 모니터링◄│──── 9. 14일 테스트 ─────→│
   │  (대시보드)             │                            │
   │                         │                            │
   │◄─ 10. 피드백 수신 ──────│◄─── 11. 피드백 제출 ─────┤
   │                         │                            │
   ├─ 12. 프로덕션 확인 ─────→│──── 13. 리워드 지급 ─────→│
   │                         │                            │
```

---

**작성자**: TestBridge 기획팀
**최종 업데이트**: 2026-02-28
