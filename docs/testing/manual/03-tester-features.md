# 테스터 기능 수동 테스트 매뉴얼

**프로젝트**: TestBridge
**문서 목적**: 테스터 기능 화면별 수동 테스트 절차 및 체크리스트
**대상**: QA 엔지니어, 테스터, 개발자
**작성일**: 2026-03-01

---

## 목차

1. [개요](#1-개요)
2. [T-01: 테스터 홈 / 앱 탐색](#2-t-01-테스터-홈--앱-탐색)
3. [T-02: 앱 상세 (테스터뷰)](#3-t-02-앱-상세-테스터뷰)
4. [T-03: 내 테스트 현황](#4-t-03-내-테스트-현황)
5. [T-04: 피드백 작성 폼](#5-t-04-피드백-작성-폼)

---

## 1. 개요

### 1.1 테스트 목적
본 매뉴얼은 테스터 역할 사용자가 이용하는 4개 화면의 수동 테스트 절차를 정의합니다:
- **테스터 홈**: 모집 중인 앱 탐색 및 필터링
- **앱 상세**: 앱 정보 확인 및 테스트 지원
- **내 테스트 현황**: 참여 중/완료/지원 중인 앱 관리
- **피드백 작성**: 별점, 코멘트, 버그 리포트 제출

### 1.2 사전 준비사항

#### 필수 요구사항
- [x] TESTER 또는 BOTH 역할로 가입된 테스트 계정
- [x] Google OAuth 로그인 가능
- [x] 테스트 가능한 앱 데이터 (상태: `RECRUITING`)
- [x] 브라우저: Chrome, Firefox, Safari 최신 버전
- [x] 화면 해상도: 1920x1080 (데스크톱), 375x667 (모바일)

#### 테스트 데이터 준비
```sql
-- 테스터 계정 확인
SELECT id, email, name, role FROM "User" WHERE role IN ('TESTER', 'BOTH');

-- 모집 중인 앱 확인
SELECT id, name, status, targetTesterCount FROM "App" WHERE status = 'RECRUITING';

-- 참여 중인 앱 확인
SELECT p.id, a.name, p.status FROM "Participation" p
JOIN "App" a ON p.appId = a.id
WHERE p.userId = [TESTER_USER_ID];
```

### 1.3 공통 주의사항
- ⚠️ 모든 API 응답 시간은 3초 이내여야 함
- ⚠️ 로딩 상태 스피너/스켈레톤 표시 확인
- ⚠️ 에러 발생 시 사용자 친화적 메시지 표시
- ⚠️ 모바일 반응형 레이아웃 확인 필수
- ⚠️ 브라우저 콘솔에 에러 로그 없어야 함

---

## 2. T-01: 테스터 홈 / 앱 탐색

### 2.1 테스트 목적
모집 중인 앱 목록을 필터링/검색하여 테스트 참여를 유도하는 기능 검증

### 2.2 접근 경로
- URL: `/tester`
- 메뉴: 사이드바 > "홈" 또는 "앱 탐색"
- 로그인 후 TESTER 역할일 경우 자동 리다이렉트

### 2.3 사전 준비
1. TESTER 역할 계정으로 로그인
2. DB에 `RECRUITING` 상태 앱 최소 10개 이상 생성
3. 다양한 카테고리 앱 준비 (게임, 유틸리티, 교육 등)
4. 리워드 금액 범위 다양화 (1,000원 ~ 50,000원)

### 2.4 테스트 절차

#### Step 1: 초기 로딩 확인
**동작**:
1. `/tester` 페이지 접속
2. 페이지 로딩 시간 측정

**예상 결과**:
- ✅ 스켈레톤 로더 표시 (로딩 중)
- ✅ 2초 이내 앱 카드 목록 렌더링
- ✅ 기본 정렬: 최신순 (가장 최근 등록된 앱부터)
- ✅ 앱 카드 그리드 레이아웃 (데스크톱: 3열, 모바일: 1열)

---

#### Step 2: 앱 카드 정보 확인
**동작**:
1. 첫 번째 앱 카드 정보 육안 검사

**예상 결과** (각 카드에 표시되어야 함):
- ✅ 앱 아이콘 (이미지 로드 실패 시 플레이스홀더)
- ✅ 앱 이름
- ✅ 카테고리 뱃지 (예: "게임", "유틸리티")
- ✅ 리워드 금액 (예: "10,000원")
- ✅ 남은 자리 (예: "5명 남음", "마감 임박" 등)
- ✅ 마감일 D-Day (예: "D-7", "D-1")
- ✅ 호버 시 카드 그림자 효과

---

#### Step 3: 카테고리 필터링
**동작**:
1. 카테고리 드롭다운 클릭
2. "게임" 카테고리 선택
3. 결과 확인

**예상 결과**:
- ✅ "게임" 카테고리 앱만 표시
- ✅ URL 쿼리 파라미터 업데이트 (`?category=1`)
- ✅ 필터 해제 버튼 표시 (예: "필터 초기화")
- ✅ 결과 없을 시: "해당 카테고리에 모집 중인 앱이 없습니다" 메시지

**추가 테스트**:
- [ ] 카테고리 변경 시 즉시 필터링 (Debounce 없음)
- [ ] 여러 카테고리 순차 선택 시 정상 작동
- [ ] "전체" 선택 시 필터 해제

---

#### Step 4: 리워드 금액 필터링
**동작**:
1. 리워드 범위 슬라이더 조작
2. 최소: 5,000원, 최대: 30,000원 설정
3. 결과 확인

**예상 결과**:
- ✅ 5,000원 ~ 30,000원 범위의 앱만 표시
- ✅ 슬라이더 이동 시 금액 레이블 실시간 업데이트
- ✅ URL 쿼리 파라미터 업데이트 (`?minReward=5000&maxReward=30000`)
- ✅ 슬라이더 드래그 부드러움 (Smooth transition)

**추가 테스트**:
- [ ] 슬라이더 최소값 = 최대값일 때 정확히 해당 금액만 표시
- [ ] 극단값 테스트 (0원 ~ 1,000,000원)

---

#### Step 5: 검색 기능
**동작**:
1. 검색 입력창에 "To-Do" 입력
2. 300ms 대기 (Debounce)
3. 결과 확인

**예상 결과**:
- ✅ "To-Do" 키워드 포함 앱 표시 (앱 이름 또는 설명 일치)
- ✅ URL 쿼리 파라미터 업데이트 (`?search=To-Do`)
- ✅ Debounce 적용 (타이핑 중에는 API 호출 안 함)
- ✅ 검색 결과 하이라이트 (선택 사항)
- ✅ 결과 없을 시: "검색 결과가 없습니다" 메시지

**추가 테스트**:
- [ ] 한글 검색 ("할일 관리")
- [ ] 특수문자 검색 ("#", "@", "!")
- [ ] 공백 입력 시 전체 목록 표시
- [ ] 검색어 지우기 버튼 (X 아이콘)

---

#### Step 6: 정렬 기능
**동작**:
1. 정렬 드롭다운 열기
2. "리워드 높은순" 선택
3. 결과 확인

**예상 결과**:
- ✅ 리워드 금액 내림차순 정렬
- ✅ 첫 번째 카드 리워드 ≥ 두 번째 카드 리워드
- ✅ URL 쿼리 파라미터 업데이트 (`?sort=reward_desc`)

**추가 정렬 옵션 테스트**:
- [ ] 최신순: `createdAt` 내림차순
- [ ] 마감임박순: `testEndDate` 오름차순
- [ ] 인기순: 지원자 수 내림차순 (향후 구현)

---

#### Step 7: 복합 필터링
**동작**:
1. 카테고리: "유틸리티"
2. 리워드: 10,000원 ~ 50,000원
3. 검색: "관리"
4. 정렬: "마감임박순"
5. 결과 확인

**예상 결과**:
- ✅ 모든 필터 조건 AND 적용
- ✅ URL 쿼리 파라미터: `?category=2&minReward=10000&maxReward=50000&search=관리&sort=deadline_asc`
- ✅ 결과 카드가 모든 조건 만족
- ✅ 필터 초기화 버튼 클릭 시 모든 필터 해제

---

#### Step 8: 앱 카드 클릭
**동작**:
1. 임의의 앱 카드 클릭
2. 페이지 전환 확인

**예상 결과**:
- ✅ `/tester/apps/[id]` 페이지로 이동
- ✅ 뒤로가기 시 필터 상태 유지 (URL 쿼리 파라미터 덕분)
- ✅ 새 탭으로 열기 (Ctrl+클릭) 지원

---

#### Step 9: 반응형 테스트 (모바일)
**동작**:
1. 브라우저 개발자 도구 > 모바일 뷰 (375x667)
2. 화면 확인

**예상 결과**:
- ✅ 앱 카드 1열 레이아웃
- ✅ 필터 드롭다운 → 햄버거 메뉴로 전환
- ✅ 터치 스크롤 부드러움
- ✅ 카드 높이 자동 조정 (텍스트 줄바꿈)

---

### 2.5 체크리스트

#### 기능 체크리스트
- [ ] 앱 카드 목록 정상 로딩 (2초 이내)
- [ ] 카테고리 필터링 작동
- [ ] 리워드 범위 슬라이더 작동
- [ ] 검색 기능 (Debounce 적용)
- [ ] 정렬 기능 (최신순, 리워드순, 마감임박순)
- [ ] 복합 필터링 (AND 조건)
- [ ] 결과 없을 시 적절한 메시지 표시
- [ ] 앱 카드 클릭 시 상세 페이지 이동
- [ ] URL 쿼리 파라미터 동기화
- [ ] 뒤로가기 시 필터 상태 유지

#### UI/UX 체크리스트
- [ ] 스켈레톤 로더 표시 (로딩 중)
- [ ] 앱 카드 그리드 레이아웃 (데스크톱 3열, 모바일 1열)
- [ ] 호버 시 카드 그림자 효과
- [ ] 리워드 금액 천 단위 콤마 (예: 10,000원)
- [ ] D-Day 계산 정확성 (오늘 기준)
- [ ] 필터 초기화 버튼 표시

#### 성능 체크리스트
- [ ] 초기 로딩: 2초 이내
- [ ] 필터 변경 시 API 응답: 1초 이내
- [ ] 검색 Debounce: 300ms
- [ ] 이미지 레이지 로딩 (Lazy loading)
- [ ] 스크롤 성능 (60fps 유지)

#### 접근성 체크리스트
- [ ] 키보드 네비게이션 (Tab, Enter)
- [ ] 스크린 리더 호환 (ARIA 라벨)
- [ ] 색상 대비 WCAG AA 준수
- [ ] 포커스 인디케이터 표시

---

## 3. T-02: 앱 상세 (테스터뷰)

### 3.1 테스트 목적
앱 정보를 상세히 확인하고 테스트에 지원하는 기능 검증

### 3.2 접근 경로
- URL: `/tester/apps/[id]`
- 진입: 테스터 홈에서 앱 카드 클릭

### 3.3 사전 준비
1. `RECRUITING` 상태 앱 준비 (id: 123)
2. 해당 앱의 스크린샷 3개 이상 업로드
3. 개발자 프로필 정보 완성

### 3.4 테스트 절차

#### Step 1: 앱 정보 표시 확인
**동작**:
1. `/tester/apps/123` 접속
2. 페이지 로딩 대기

**예상 결과**:
- ✅ 앱 헤더 섹션:
  - 앱 아이콘 (좌측)
  - 앱 이름 (크게)
  - 카테고리 뱃지
  - 개발자 이름 (링크, 클릭 시 개발자 프로필)
- ✅ 앱 설명 (줄바꿈 유지)
- ✅ 리워드 금액 (강조, 예: "🎁 10,000원")
- ✅ 테스트 기간 (예: "2026-03-01 ~ 2026-03-15 (14일)")
- ✅ 진행 상황:
  - 목표 인원: 20명
  - 승인된 인원: 12명
  - 남은 자리: 8명
  - 진행률 프로그레스 바 (60%)

---

#### Step 2: 스크린샷 갤러리
**동작**:
1. 스크린샷 Carousel 조작
2. 좌우 화살표 클릭
3. 섬네일 클릭

**예상 결과**:
- ✅ 스크린샷 Carousel 표시 (Swiper 또는 유사 라이브러리)
- ✅ 좌우 화살표 버튼 작동
- ✅ 섬네일 클릭 시 해당 이미지로 이동
- ✅ 이미지 클릭 시 확대 모달 (선택 사항)
- ✅ 모바일: 스와이프 제스처 지원
- ✅ 이미지 로드 실패 시 플레이스홀더

---

#### Step 3: 지원하기 버튼 (정상 케이스)
**동작**:
1. "지원하기" 버튼 클릭
2. 모달 폼 표시 확인

**예상 결과**:
- ✅ 모달 팝업 열림
- ✅ 모달 제목: "테스트 지원하기"
- ✅ 입력 필드:
  - 자기소개 (선택, Textarea, 최대 200자)
  - 기기 정보 (필수, Input, 예: "Galaxy S24 / Android 14")
- ✅ 개인정보 동의 체크박스 (필수)
- ✅ 제출 버튼 (기본 비활성화)

**추가 테스트**:
- [ ] 자기소개 200자 초과 시 경고 메시지
- [ ] 기기 정보 미입력 시 제출 버튼 비활성화
- [ ] 개인정보 동의 체크 안 하면 제출 불가

---

#### Step 4: 지원서 제출
**동작**:
1. 자기소개: "열정적으로 테스트하겠습니다!"
2. 기기 정보: "iPhone 15 Pro / iOS 17.2"
3. 개인정보 동의 체크
4. "제출" 버튼 클릭

**예상 결과**:
- ✅ API 호출: `POST /api/applications`
- ✅ 로딩 스피너 표시 (버튼 비활성화)
- ✅ 성공 시:
  - 성공 토스트 메시지: "지원이 완료되었습니다!"
  - 모달 닫힘
  - "지원하기" 버튼 → "지원 완료" (비활성화)
  - 개발자에게 알림 발송 (백그라운드)
- ✅ 실패 시:
  - 에러 토스트 메시지 (예: "이미 지원한 앱입니다")
  - 모달 유지 (재시도 가능)

---

#### Step 5: 중복 지원 방지
**동작**:
1. 이미 지원한 앱 상세 페이지 접속
2. 버튼 상태 확인

**예상 결과**:
- ✅ "지원하기" 버튼 → "지원 완료" (비활성화)
- ✅ 툴팁 표시: "이미 지원한 앱입니다"
- ✅ 클릭 불가

---

#### Step 6: 테스트 가이드 섹션
**동작**:
1. 페이지 하단 스크롤
2. "Google Play 옵트인 방법" 섹션 확인

**예상 결과**:
- ✅ 단계별 가이드 표시:
  1. Google Play 링크 클릭
  2. "테스터 되기" 버튼 클릭
  3. 앱 다운로드
  4. 14일간 사용
- ✅ Google Play 링크 버튼 (외부 링크, `target="_blank"`)
- ✅ 경고 메시지: "14일 동안 앱을 삭제하지 마세요"

---

#### Step 7: 모집 마감된 앱
**동작**:
1. `IN_TESTING` 또는 `COMPLETED` 상태 앱 접속
2. 버튼 상태 확인

**예상 결과**:
- ✅ "지원하기" 버튼 → "모집 마감" (비활성화)
- ✅ 진행 상황: "20/20명 (100%)"
- ✅ 경고 배너: "현재 모집이 마감되었습니다"

---

### 3.5 체크리스트

#### 기능 체크리스트
- [ ] 앱 정보 정확히 표시 (이름, 설명, 리워드, 기간)
- [ ] 개발자 정보 표시 (이름, 링크)
- [ ] 진행 상황 프로그레스 바 정확성
- [ ] 스크린샷 갤러리 작동 (좌우 화살표, 섬네일)
- [ ] 지원하기 모달 폼 표시
- [ ] 지원서 제출 성공 (API 호출)
- [ ] 중복 지원 방지 (버튼 비활성화)
- [ ] 테스트 가이드 표시
- [ ] Google Play 링크 작동 (외부 링크)
- [ ] 모집 마감 시 버튼 비활성화

#### UI/UX 체크리스트
- [ ] 앱 헤더 레이아웃 (아이콘 + 정보)
- [ ] 리워드 금액 강조 (예: 큰 폰트, 색상)
- [ ] 프로그레스 바 애니메이션 (부드럽게 증가)
- [ ] 모달 열림/닫힘 애니메이션
- [ ] 성공/에러 토스트 메시지 표시
- [ ] 반응형 레이아웃 (모바일)

#### 검증 체크리스트
- [ ] 자기소개 200자 제한
- [ ] 기기 정보 필수 입력
- [ ] 개인정보 동의 필수 체크
- [ ] 제출 버튼 로딩 상태 (중복 클릭 방지)
- [ ] API 에러 핸들링 (네트워크 오류 등)

---

## 4. T-03: 내 테스트 현황

### 4.1 테스트 목적
테스터가 지원/참여 중인 앱을 한눈에 확인하고 관리하는 기능 검증

### 4.2 접근 경로
- URL: `/tester/participations`
- 메뉴: 사이드바 > "내 테스트" 또는 "참여 현황"

### 4.3 사전 준비
1. 테스터 계정으로 로그인
2. 다음 상태의 데이터 준비:
   - **진행 중**: `APPROVED` 상태 Application → Participation 생성
   - **완료**: `FEEDBACK_SUBMITTED` 상태 Participation
   - **지원 중**: `PENDING` 상태 Application

```sql
-- 진행 중 데이터 생성
INSERT INTO "Application" (userId, appId, status) VALUES ([USER_ID], [APP_ID_1], 'APPROVED');
INSERT INTO "Participation" (userId, appId, status, approvedAt) VALUES ([USER_ID], [APP_ID_1], 'ACTIVE', NOW());

-- 완료 데이터 생성
INSERT INTO "Participation" (userId, appId, status, approvedAt) VALUES ([USER_ID], [APP_ID_2], 'FEEDBACK_SUBMITTED', NOW() - INTERVAL '14 days');

-- 지원 중 데이터 생성
INSERT INTO "Application" (userId, appId, status) VALUES ([USER_ID], [APP_ID_3], 'PENDING');
```

### 4.4 테스트 절차

#### Step 1: 페이지 초기 로딩
**동작**:
1. `/tester/participations` 접속
2. 기본 탭 확인

**예상 결과**:
- ✅ 3개 탭 표시: "진행 중", "완료", "지원 중"
- ✅ 기본 활성 탭: "진행 중"
- ✅ 각 탭에 카운트 뱃지 (예: "진행 중 (3)")
- ✅ 리스트 아이템 카드 형태 표시

---

#### Step 2: 진행 중 탭
**동작**:
1. "진행 중" 탭 클릭 (이미 활성화됨)
2. 리스트 아이템 확인

**예상 결과** (각 아이템 표시 정보):
- ✅ 앱 아이콘 (좌측)
- ✅ 앱 이름
- ✅ D-Day 계산:
  - `approvedAt` + 14일 - 현재 날짜
  - 예시: "D-7" (7일 남음), "D-Day" (오늘 마감), "+3" (3일 경과)
  - D-Day 임박 시 빨간색 강조 (D-3 이하)
- ✅ 프로그레스 바 (진행률):
  - 예: "7일 경과 / 14일 (50%)"
  - 프로그레스 바 색상: 초록색 (진행 중)
- ✅ 리워드 금액 (예: "10,000원")
- ✅ "피드백 작성" 버튼 (우측)
- ✅ 정렬: D-Day 오름차순 (마감 임박순)

**추가 테스트**:
- [ ] 진행 중 항목 0개일 때: "진행 중인 테스트가 없습니다" 메시지
- [ ] 14일 경과 후 (+14일 이후) 경고 표시

---

#### Step 3: 완료 탭
**동작**:
1. "완료" 탭 클릭
2. 리스트 아이템 확인

**예상 결과**:
- ✅ `FEEDBACK_SUBMITTED` 또는 `REWARD_PAID` 상태 Participation 표시
- ✅ 각 아이템:
  - 앱 아이콘, 이름
  - 완료일 (예: "2026-02-15 완료")
  - 리워드 금액
  - 내가 준 별점 (예: "⭐ 4.5점")
  - "피드백 보기" 버튼 (클릭 시 피드백 상세)
- ✅ 정렬: 완료일 내림차순 (최근 완료 순)

**추가 테스트**:
- [ ] 완료 항목 0개일 때: "완료한 테스트가 없습니다" 메시지
- [ ] 리워드 지급 완료 뱃지 표시 (선택 사항)

---

#### Step 4: 지원 중 탭
**동작**:
1. "지원 중" 탭 클릭
2. 리스트 아이템 확인

**예상 결과**:
- ✅ `PENDING` 상태 Application 표시
- ✅ 각 아이템:
  - 앱 아이콘, 이름
  - 지원일 (예: "2026-02-28 지원")
  - 상태 뱃지: "승인 대기 중" (노란색)
  - 리워드 금액
- ✅ 정렬: 지원일 내림차순 (최근 지원 순)

**추가 테스트**:
- [ ] `REJECTED` 상태 Application:
  - 상태 뱃지: "거절됨" (빨간색)
  - 거절 사유 표시 (있을 경우)
- [ ] 지원 중 항목 0개일 때: "지원 중인 앱이 없습니다" 메시지

---

#### Step 5: D-Day 계산 정확성
**동작**:
1. 진행 중 탭에서 D-Day 확인
2. 수동 계산과 비교

**테스트 케이스**:
| approvedAt | 현재 날짜 | 예상 D-Day |
|-----------|---------|-----------|
| 2026-03-01 | 2026-03-08 | D-7 |
| 2026-03-01 | 2026-03-15 | D-Day |
| 2026-03-01 | 2026-03-17 | +2 |

**예상 결과**:
- ✅ D-Day 계산 정확함 (초 단위 무시, 일 단위 계산)
- ✅ D-Day 색상 코드:
  - D-7 이상: 초록색
  - D-3 ~ D-6: 주황색
  - D-2 이하: 빨간색

---

#### Step 6: 피드백 작성 버튼
**동작**:
1. 진행 중 탭에서 임의의 앱 선택
2. "피드백 작성" 버튼 클릭

**예상 결과**:
- ✅ `/tester/participations/[id]/feedback` 페이지로 이동
- ✅ Participation ID 정확히 전달

---

#### Step 7: 프로그레스 바 정확성
**동작**:
1. 진행 중 탭에서 프로그레스 바 확인
2. 경과 일수 계산 검증

**테스트 케이스**:
| approvedAt | 현재 날짜 | 경과 일수 | 진행률 |
|-----------|---------|---------|-------|
| 2026-03-01 | 2026-03-08 | 7일 | 50% |
| 2026-03-01 | 2026-03-15 | 14일 | 100% |
| 2026-03-01 | 2026-03-04 | 3일 | 21.4% |

**예상 결과**:
- ✅ 진행률 = (경과 일수 / 14) * 100
- ✅ 프로그레스 바 애니메이션 (부드럽게 채워짐)
- ✅ 100% 도달 시 완료 뱃지 표시 (선택 사항)

---

#### Step 8: 탭 전환 성능
**동작**:
1. "진행 중" → "완료" → "지원 중" 순차 클릭
2. 각 탭 로딩 시간 측정

**예상 결과**:
- ✅ 탭 전환 즉시 (캐싱 활용)
- ✅ 처음 탭 클릭 시에만 API 호출
- ✅ 재방문 시 캐시된 데이터 표시 (선택 사항)

---

### 4.5 체크리스트

#### 기능 체크리스트
- [ ] 3개 탭 정상 표시 (진행 중, 완료, 지원 중)
- [ ] 각 탭 카운트 뱃지 정확함
- [ ] 진행 중: D-Day 계산 정확
- [ ] 진행 중: 프로그레스 바 정확
- [ ] 완료: 완료일, 별점 표시
- [ ] 지원 중: 지원일, 상태 뱃지 표시
- [ ] 피드백 작성 버튼 클릭 시 올바른 페이지 이동
- [ ] 빈 리스트 시 안내 메시지 표시

#### UI/UX 체크리스트
- [ ] 탭 활성 상태 시각적 표시 (밑줄, 색상)
- [ ] 리스트 아이템 카드 레이아웃 (아이콘 + 정보)
- [ ] D-Day 색상 코드 (초록/주황/빨강)
- [ ] 프로그레스 바 애니메이션
- [ ] 상태 뱃지 색상 (대기: 노랑, 완료: 초록, 거절: 빨강)
- [ ] 호버 시 카드 강조 효과

#### 정렬 체크리스트
- [ ] 진행 중: D-Day 오름차순 (마감 임박순)
- [ ] 완료: 완료일 내림차순
- [ ] 지원 중: 지원일 내림차순

#### 성능 체크리스트
- [ ] 초기 로딩: 2초 이내
- [ ] 탭 전환: 즉시 (캐싱)
- [ ] 스크롤 성능: 60fps

---

## 5. T-04: 피드백 작성 폼

### 5.1 테스트 목적
테스터가 앱 테스트 완료 후 별점, 코멘트, 버그 리포트를 제출하는 기능 검증

### 5.2 접근 경로
- URL: `/tester/participations/[id]/feedback`
- 진입: 내 테스트 현황 > "피드백 작성" 버튼 클릭

### 5.3 사전 준비
1. `ACTIVE` 상태 Participation 데이터 (id: 456)
2. 14일 경과 여부 무관 (피드백 작성 허용)
3. 해당 Participation에 Feedback 미제출 상태 확인

```sql
-- Feedback 미제출 확인
SELECT * FROM "Feedback" WHERE participationId = 456;
-- 결과: 0 rows (아직 제출 안 함)
```

### 5.4 테스트 절차

#### Step 1: 폼 초기 로딩
**동작**:
1. `/tester/participations/456/feedback` 접속
2. 폼 렌더링 확인

**예상 결과**:
- ✅ 페이지 제목: "피드백 작성 - [앱 이름]"
- ✅ 앱 정보 요약 (상단):
  - 앱 아이콘, 이름
  - 개발자 이름
  - 테스트 기간
- ✅ 폼 섹션 구분:
  1. 전체 별점
  2. 항목별 별점
  3. 텍스트 코멘트
  4. 버그 리포트 (선택)
- ✅ 제출 버튼 (하단, 기본 비활성화)

---

#### Step 2: 전체 별점 입력
**동작**:
1. 전체 별점 섹션 확인
2. 별 4개 클릭 (4점)

**예상 결과**:
- ✅ 별 5개 표시 (1~5점)
- ✅ 호버 시 별 색상 변경 (예: 회색 → 노란색)
- ✅ 클릭 시 해당 별까지 채워짐
- ✅ 선택한 별점 숫자 표시 (예: "4.0 / 5.0")
- ✅ 필수 입력 표시 (빨간색 별표)

**추가 테스트**:
- [ ] 별 클릭 후 다시 클릭 시 별점 변경 가능
- [ ] 0.5점 단위 지원 여부 (선택 사항, UI에 따라)

---

#### Step 3: 항목별 별점 입력
**동작**:
1. 4개 항목별 별점 입력:
   - UI/UX: 5점
   - 성능 (Performance): 4점
   - 기능성 (Functionality): 3점
   - 안정성 (Stability): 4점
2. 자동 평균 계산 확인

**예상 결과**:
- ✅ 각 항목 1~5점 입력 가능
- ✅ 자동 평균 계산: (5+4+3+4) / 4 = 4.0점
- ✅ 평균 점수 실시간 업데이트 표시 (선택 사항)
- ✅ 모든 항목 필수 입력 (빨간색 별표)

**추가 테스트**:
- [ ] 항목 미입력 시 제출 버튼 비활성화
- [ ] 각 항목 설명 툴팁 표시 (예: "UI/UX: 디자인과 사용 편의성")

---

#### Step 4: 텍스트 코멘트 입력
**동작**:
1. 코멘트 Textarea에 다음 입력:
   ```
   UI가 직관적이고 사용하기 편리합니다. 다만 일부 기능이 느린 느낌이 있습니다.
   ```
2. 글자 수 카운터 확인

**예상 결과**:
- ✅ Textarea 최소 10자 필수
- ✅ 글자 수 실시간 카운터 표시 (예: "45 / 1000")
- ✅ 10자 미만 시 경고 메시지: "최소 10자 이상 입력해주세요"
- ✅ 줄바꿈 지원
- ✅ 필수 입력 표시 (빨간색 별표)

**추가 테스트**:
- [ ] 1000자 초과 시 입력 차단 또는 경고
- [ ] 특수문자, 이모지 입력 가능

---

#### Step 5: 버그 리포트 작성 (선택)
**동작**:
1. "버그 리포트 추가" 체크박스 클릭
2. 버그 리포트 섹션 확장
3. 다음 입력:
   - 버그 제목: "로그인 후 홈 화면 크래시"
   - 상세 설명: "로그인 버튼 클릭 후 앱이 강제 종료됩니다."
   - 기기 정보: 자동 입력 (Application 제출 시 입력한 정보)
   - 스크린샷: 이미지 파일 업로드

**예상 결과**:
- ✅ 체크박스 클릭 시 버그 리포트 섹션 표시
- ✅ 입력 필드:
  - 버그 제목 (필수, 최대 100자)
  - 상세 설명 (필수, 최소 10자)
  - 기기 정보 (자동 입력, 읽기 전용)
  - 스크린샷 (선택, 이미지 파일만 허용)
- ✅ 스크린샷 업로드:
  - Drag & Drop 또는 파일 선택
  - 미리보기 표시
  - 삭제 버튼 (X 아이콘)
- ✅ 파일 크기 제한: 최대 5MB
- ✅ 파일 형식 제한: JPG, PNG, GIF

**추가 테스트**:
- [ ] 체크박스 해제 시 버그 리포트 섹션 숨김 (입력 내용 유지)
- [ ] 이미지 업로드 실패 시 에러 메시지
- [ ] 최대 3개 이미지 업로드 제한 (선택 사항)

---

#### Step 6: 폼 검증
**동작**:
1. 다음 항목 누락 상태로 제출 버튼 클릭:
   - 전체 별점: 미입력
   - 항목별 별점: UI/UX만 입력
   - 코멘트: 5자 입력 ("좋음")

**예상 결과**:
- ✅ 제출 버튼 비활성화 유지
- ✅ 에러 메시지 표시:
  - "전체 별점을 입력해주세요"
  - "모든 항목별 별점을 입력해주세요"
  - "코멘트는 최소 10자 이상 입력해주세요"
- ✅ 에러 필드 포커스 (첫 번째 에러 필드로 스크롤)

---

#### Step 7: 정상 제출
**동작**:
1. 모든 필수 필드 입력 완료:
   - 전체 별점: 4점
   - 항목별 별점: UI/UX 5점, 성능 4점, 기능성 3점, 안정성 4점
   - 코멘트: "UI가 직관적이고 사용하기 편리합니다. 다만 일부 기능이 느린 느낌이 있습니다."
   - 버그 리포트: 작성 (제목, 설명, 스크린샷)
2. "제출" 버튼 클릭

**예상 결과**:
- ✅ API 호출 순서 (순차 실행):
  1. `POST /api/feedbacks` (피드백 생성)
  2. `POST /api/feedback-ratings` (항목별 별점 벌크 생성)
  3. `POST /api/bug-reports` (버그 리포트, 선택 시)
  4. `PATCH /api/participations/[id]` (상태: `FEEDBACK_SUBMITTED`)
- ✅ 로딩 스피너 표시 (버튼 비활성화)
- ✅ 성공 시:
  - 성공 토스트 메시지: "피드백이 제출되었습니다! 리워드가 지급됩니다."
  - `/tester/participations` 페이지로 리다이렉트
  - 개발자에게 알림 발송 (백그라운드)
- ✅ 실패 시:
  - 에러 토스트 메시지 (예: "서버 오류가 발생했습니다")
  - 폼 유지 (재시도 가능)
  - 입력 내용 보존

---

#### Step 8: 중복 제출 방지
**동작**:
1. 이미 피드백 제출한 Participation ID로 접속
2. 페이지 렌더링 확인

**예상 결과**:
- ✅ 폼 비활성화 (읽기 전용)
- ✅ 경고 메시지: "이미 피드백을 제출하셨습니다"
- ✅ 제출한 피드백 내용 표시 (선택 사항)
- ✅ "목록으로 돌아가기" 버튼

---

#### Step 9: 이미지 업로드 테스트
**동작**:
1. 버그 리포트 섹션에서 이미지 업로드
2. 다양한 시나리오 테스트:
   - 5MB 이하 JPG 파일
   - 6MB PNG 파일 (크기 초과)
   - PDF 파일 (형식 오류)

**예상 결과**:
- ✅ 5MB 이하 JPG: 업로드 성공, 미리보기 표시
- ✅ 6MB PNG: 에러 메시지 "파일 크기는 최대 5MB입니다"
- ✅ PDF: 에러 메시지 "JPG, PNG, GIF 파일만 업로드 가능합니다"
- ✅ 미리보기 이미지 클릭 시 확대 모달 (선택 사항)

---

#### Step 10: 자동 저장 (선택 기능)
**동작**:
1. 폼 입력 중 페이지 새로고침
2. 재접속 시 입력 내용 복원 확인

**예상 결과** (선택 사항):
- ✅ LocalStorage에 임시 저장
- ✅ 재접속 시 복원 모달: "작성 중인 내용이 있습니다. 복원하시겠습니까?"
- ✅ 제출 성공 시 임시 저장 내용 삭제

---

### 5.5 체크리스트

#### 기능 체크리스트
- [ ] 전체 별점 입력 (1~5점, 필수)
- [ ] 항목별 별점 입력 (UI/UX, 성능, 기능성, 안정성, 각 필수)
- [ ] 텍스트 코멘트 입력 (최소 10자, 필수)
- [ ] 버그 리포트 작성 (선택)
- [ ] 버그 스크린샷 업로드 (선택, 최대 5MB)
- [ ] 폼 검증 (필수 필드, 최소 글자 수)
- [ ] 제출 성공 (API 순차 호출)
- [ ] 중복 제출 방지
- [ ] 제출 후 리다이렉트 (`/tester/participations`)

#### 항목별 별점 체크리스트
- [ ] UI/UX: 디자인과 사용 편의성
- [ ] Performance: 앱 속도와 반응성
- [ ] Functionality: 기능 완성도와 정확성
- [ ] Stability: 안정성과 버그 없음

#### 버그 리포트 체크리스트
- [ ] 버그 제목 입력 (최대 100자)
- [ ] 상세 설명 입력 (최소 10자)
- [ ] 기기 정보 자동 입력 (Application 제출 시 정보)
- [ ] 스크린샷 업로드 (JPG, PNG, GIF)
- [ ] 파일 크기 검증 (최대 5MB)
- [ ] 파일 형식 검증
- [ ] 이미지 미리보기 표시

#### UI/UX 체크리스트
- [ ] 별점 호버 효과 (색상 변경)
- [ ] 글자 수 카운터 실시간 업데이트
- [ ] 에러 메시지 표시 (빨간색)
- [ ] 제출 버튼 로딩 상태 (스피너)
- [ ] 성공 토스트 메시지
- [ ] 반응형 레이아웃 (모바일)

#### 검증 체크리스트
- [ ] 전체 별점 필수
- [ ] 모든 항목별 별점 필수
- [ ] 코멘트 최소 10자
- [ ] 버그 제목 최대 100자
- [ ] 버그 설명 최소 10자
- [ ] 이미지 파일 크기 최대 5MB
- [ ] 이미지 파일 형식 JPG/PNG/GIF

#### API 체크리스트
- [ ] `POST /api/feedbacks` 성공
- [ ] `POST /api/feedback-ratings` 벌크 생성 성공
- [ ] `POST /api/bug-reports` 성공 (선택 시)
- [ ] `PATCH /api/participations/[id]` 상태 업데이트
- [ ] 트랜잭션 롤백 (하나라도 실패 시)

#### 성능 체크리스트
- [ ] 폼 로딩: 1초 이내
- [ ] 별점 클릭 반응: 즉시
- [ ] 이미지 업로드: 3초 이내 (5MB 기준)
- [ ] 제출 API 응답: 5초 이내 (이미지 포함)

---

## 부록

### A. 공통 에러 메시지

| 에러 코드 | 메시지 | 원인 |
|---------|-------|------|
| 400 | "필수 항목을 입력해주세요" | 필수 필드 미입력 |
| 400 | "이미 지원한 앱입니다" | 중복 지원 |
| 400 | "이미 피드백을 제출하셨습니다" | 중복 제출 |
| 401 | "로그인이 필요합니다" | 인증 토큰 없음 |
| 403 | "권한이 없습니다" | TESTER 역할 아님 |
| 404 | "앱을 찾을 수 없습니다" | 존재하지 않는 앱 ID |
| 500 | "서버 오류가 발생했습니다" | 서버 내부 오류 |

---

### B. 테스트 데이터 생성 스크립트

```sql
-- 테스터 계정 생성
INSERT INTO "User" (email, name, role, googleId)
VALUES ('tester@example.com', 'John Tester', 'TESTER', 'google-123');

-- 테스터 프로필 생성
INSERT INTO "TesterProfile" (userId, bio, deviceInfo)
VALUES (1, '열정적인 테스터입니다', 'Galaxy S24 / Android 14');

-- 모집 중인 앱 생성
INSERT INTO "App" (developerId, name, description, status, targetTesterCount, rewardAmount)
VALUES (2, 'To-Do Master', '스마트한 할일 관리 앱', 'RECRUITING', 20, 10000);

-- 앱 스크린샷 생성
INSERT INTO "AppImage" (appId, imageUrl, sortOrder)
VALUES (1, '/uploads/screenshot1.png', 1),
       (1, '/uploads/screenshot2.png', 2);

-- 참여 중 데이터 생성
INSERT INTO "Application" (userId, appId, status, deviceInfo)
VALUES (1, 1, 'APPROVED', 'Galaxy S24 / Android 14');

INSERT INTO "Participation" (userId, appId, status, approvedAt)
VALUES (1, 1, 'ACTIVE', NOW() - INTERVAL '7 days');
```

---

**문서 작성일**: 2026-03-01
**작성자**: Documentation Specialist (Claude Code)
**검토자**: Team Lead
**다음 문서**: 04-admin-features.md (향후 작성)
